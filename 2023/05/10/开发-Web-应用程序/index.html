<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>开发 Web 应用程序 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="开发 Web 应用程序详细教程spring in action Spring 入门详细教程请参考：https:&#x2F;&#x2F;github.com&#x2F;PotoYang&#x2F;spring-in-action-v5-translate&#x2F;tree&#x2F;master&#x2F;di-2-zhang-kai-fa-web-ying-yong-cheng-xu 源码如下：https:&#x2F;&#x2F;github.com&#x2F;PotoYang&#x2F;spring-">
<meta property="og:type" content="article">
<meta property="og:title" content="开发 Web 应用程序">
<meta property="og:url" content="https://110.41.172.90/2023/05/10/%E5%BC%80%E5%8F%91-Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="开发 Web 应用程序详细教程spring in action Spring 入门详细教程请参考：https:&#x2F;&#x2F;github.com&#x2F;PotoYang&#x2F;spring-in-action-v5-translate&#x2F;tree&#x2F;master&#x2F;di-2-zhang-kai-fa-web-ying-yong-cheng-xu 源码如下：https:&#x2F;&#x2F;github.com&#x2F;PotoYang&#x2F;spring-">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2023-05-10T02:48:56.000Z">
<meta property="article:modified_time" content="2023-05-11T09:02:38.231Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="Spring in Action">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Hexo" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Hexo</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://110.41.172.90"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main"><article id="post-开发-Web-应用程序" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2023/05/10/%E5%BC%80%E5%8F%91-Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" class="article-date">
  <time class="dt-published" datetime="2023-05-10T02:48:56.000Z" itemprop="datePublished">2023-05-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 class="p-name article-title" itemprop="headline name">
      开发 Web 应用程序
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="开发-Web-应用程序"><a href="#开发-Web-应用程序" class="headerlink" title="开发 Web 应用程序"></a>开发 Web 应用程序</h3><h4 id="详细教程"><a href="#详细教程" class="headerlink" title="详细教程"></a>详细教程</h4><p><a target="_blank" rel="noopener" href="https://github.com/PotoYang/spring-in-action-v5-translate/tree/master/di-2-zhang-kai-fa-web-ying-yong-cheng-xu">spring in action Spring 入门详细教程请参考：https://github.com/PotoYang/spring-in-action-v5-translate/tree/master/di-2-zhang-kai-fa-web-ying-yong-cheng-xu</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/PotoYang/spring-in-action-v5-translate/tree/master/spring-in-action-5-samples-master">源码如下：https://github.com/PotoYang/spring-in-action-v5-translate/tree/master/spring-in-action-5-samples-master</a></p>
<h4 id="将要做的事情"><a href="#将要做的事情" class="headerlink" title="将要做的事情"></a>将要做的事情</h4><ul>
<li>在浏览器中展示模型数据</li>
<li>处理和验证表单输入</li>
</ul>
<h4 id="开始之前的事情"><a href="#开始之前的事情" class="headerlink" title="开始之前的事情"></a>开始之前的事情</h4><p>引入依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">    &lt;groupId&gt;org.projectlombok&lt;/groupId&gt;</span><br><span class="line">    &lt;artifactId&gt;lombok&lt;/artifactId&gt;</span><br><span class="line">    &lt;optional&gt;true&lt;/optional&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<h4 id="创建DesignTacoController和OrderController"><a href="#创建DesignTacoController和OrderController" class="headerlink" title="创建DesignTacoController和OrderController"></a>创建DesignTacoController和OrderController</h4><h5 id="创建DesignTacoController"><a href="#创建DesignTacoController" class="headerlink" title="创建DesignTacoController"></a>创建DesignTacoController</h5><h6 id="创建Ingredient"><a href="#创建Ingredient" class="headerlink" title="创建Ingredient"></a>创建Ingredient</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.RequiredArgsConstructor;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">@RequiredArgsConstructor</span><br><span class="line">public class Ingredient &#123;</span><br><span class="line">    private final String id;</span><br><span class="line">    private final String name;</span><br><span class="line">    private final Type type;</span><br><span class="line">    public static enum Type&#123;</span><br><span class="line">        WRAP,PROTEIN,VEGGIES,CHEESE,SAUCE</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="创建Taco"><a href="#创建Taco" class="headerlink" title="创建Taco"></a>创建Taco</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">@Data</span><br><span class="line">public class Taco &#123;</span><br><span class="line">    </span><br><span class="line">    private String name;</span><br><span class="line">   </span><br><span class="line">    private List&lt;String&gt; ingredients;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="创建控制器-DesignTacoController"><a href="#创建控制器-DesignTacoController" class="headerlink" title="创建控制器 DesignTacoController"></a>创建控制器 DesignTacoController</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br></pre></td><td class="code"><pre><span class="line">package tacos.web;</span><br><span class="line">​</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line">import javax.validation.Valid;</span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.ui.Model;</span><br><span class="line">import org.springframework.validation.Errors;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">​</span><br><span class="line">import tacos.Taco;</span><br><span class="line">import tacos.Ingredient;</span><br><span class="line">import tacos.Ingredient.Type;</span><br><span class="line">​</span><br><span class="line">@Slf4j</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/design&quot;)</span><br><span class="line">public class DesignTacoController &#123;</span><br><span class="line">    @GetMapping</span><br><span class="line">    public String showDesignForm(Model model) &#123;</span><br><span class="line">        List&lt;Ingredient&gt; ingredients = Arrays.asList(</span><br><span class="line">            new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),</span><br><span class="line">            new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),</span><br><span class="line">            new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),</span><br><span class="line">            new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),</span><br><span class="line">            new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),</span><br><span class="line">            new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),</span><br><span class="line">            new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),</span><br><span class="line">            new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),</span><br><span class="line">            new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),</span><br><span class="line">            new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">        Type[] types = Ingredient.Type.values();</span><br><span class="line">        for (Type type : types) &#123;</span><br><span class="line">            model.addAttribute(type.toString().toLowerCase(),</span><br><span class="line">                filterByType(ingredients, type));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        model.addAttribute(&quot;design&quot;, new Taco());</span><br><span class="line">        return &quot;design&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // provided by &#x27;aexiaosong&#x27;</span><br><span class="line">    private List&lt;Ingredient&gt; filterByType(List&lt;Ingredient&gt; ingredients, Type type) &#123;</span><br><span class="line">        return ingredients.stream().filter(x -&gt; x.getType().equals(type)).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="添加design-html-到-resources-x2F-templates-下"><a href="#添加design-html-到-resources-x2F-templates-下" class="headerlink" title="添加design.html 到 resources&#x2F;templates 下"></a>添加design.html 到 resources&#x2F;templates 下</h6><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</span><br><span class="line">      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@&#123;/styles.css&#125;&quot; /&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;h1&gt;Design your taco!&lt;/h1&gt;</span><br><span class="line">        &lt;img th:src=&quot;@&#123;/images/TacoCloud.png&#125;&quot;/&gt;</span><br><span class="line">        &lt;form method=&quot;POST&quot; th:object=&quot;$&#123;design&#125;&quot;&gt;</span><br><span class="line">            &lt;div class=&quot;grid&quot;&gt;</span><br><span class="line">                &lt;div class=&quot;ingredient-group&quot; id=&quot;wraps&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;Designate your wrap:&lt;/h3&gt;</span><br><span class="line">                    &lt;div th:each=&quot;ingredient : $&#123;wrap&#125;&quot;&gt;</span><br><span class="line">                        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot;/&gt;</span><br><span class="line">                        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;ingredient-group&quot; id=&quot;proteins&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;Pick your protein:&lt;/h3&gt;</span><br><span class="line">                    &lt;div th:each=&quot;ingredient : $&#123;protein&#125;&quot;&gt;</span><br><span class="line">                        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">                        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;ingredient-group&quot; id=&quot;cheeses&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;Choose your cheese:&lt;/h3&gt;</span><br><span class="line">                    &lt;div th:each=&quot;ingredient : $&#123;cheese&#125;&quot;&gt;</span><br><span class="line">                        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot;/&gt;</span><br><span class="line">                        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;ingredient-group&quot; id=&quot;veggies&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;Determine your veggies:&lt;/h3&gt;</span><br><span class="line">                    &lt;div th:each=&quot;ingredient : $&#123;veggies&#125;&quot;&gt;</span><br><span class="line">                        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot;/&gt;</span><br><span class="line">                        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                &lt;div class=&quot;ingredient-group&quot; id=&quot;sauces&quot;&gt;</span><br><span class="line">                    &lt;h3&gt;Select your sauce:&lt;/h3&gt;</span><br><span class="line">                    &lt;div th:each=&quot;ingredient : $&#123;sauce&#125;&quot;&gt;</span><br><span class="line">                        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot;/&gt;</span><br><span class="line">                        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">                    &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;div&gt;</span><br><span class="line">                &lt;h3&gt;Name your taco creation:&lt;/h3&gt;</span><br><span class="line">                &lt;input type=&quot;text&quot; th:field=&quot;*&#123;name&#125;&quot;/&gt;&lt;br/&gt;</span><br><span class="line">                &lt;button&gt;Submit your taco&lt;/button&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h6 id="启动tacos项目"><a href="#启动tacos项目" class="headerlink" title="启动tacos项目"></a>启动tacos项目</h6><p>浏览器中打开网址<a target="_blank" rel="noopener" href="http://localhost:8080/design">http://localhost:8080/design</a></p>
<h5 id="处理表单提交"><a href="#处理表单提交" class="headerlink" title="处理表单提交"></a>处理表单提交</h5><p>添加 post 请求的控制器，创建OrderController</p>
<h6 id="添加-post-请求的控制器"><a href="#添加-post-请求的控制器" class="headerlink" title="添加 post 请求的控制器"></a>添加 post 请求的控制器</h6><p>在src&#x2F;main&#x2F;java&#x2F;tacos&#x2F;web&#x2F;DesignTacoController.java中添加</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">@PostMapping</span><br><span class="line">public String processDesign(Taco design) &#123;</span><br><span class="line">    // Save the taco design...</span><br><span class="line">    // We&#x27;ll do this in chapter 3</span><br><span class="line">    log.info(&quot;Processing design: &quot; + design);</span><br><span class="line">    return &quot;redirect:/orders/current&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h6 id="添加OrderController-处理-GET-orders-x2F-current-请求"><a href="#添加OrderController-处理-GET-orders-x2F-current-请求" class="headerlink" title="添加OrderController 处理 GET:orders&#x2F;current 请求"></a>添加OrderController 处理 GET:orders&#x2F;current 请求</h6><p>创建Order .java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line">​</span><br><span class="line">import javax.validation.constraints.Digits;</span><br><span class="line">import javax.validation.constraints.Pattern;</span><br><span class="line">import org.hibernate.validator.constraints.CreditCardNumber;</span><br><span class="line">import org.hibernate.validator.constraints.NotBlank;</span><br><span class="line">import lombok.Data;</span><br><span class="line">​</span><br><span class="line">@Data</span><br><span class="line">public class Order &#123;</span><br><span class="line">    private String name;</span><br><span class="line">    private String street;</span><br><span class="line">    private String city;</span><br><span class="line">    private String state;</span><br><span class="line">    private String zip;</span><br><span class="line">    private String ccNumber;</span><br><span class="line">    private String ccExpiration;</span><br><span class="line">    private String ccCVV;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>创建OrderController.java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">package tacos.web;</span><br><span class="line">​</span><br><span class="line">import javax.validation.Valid;</span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.ui.Model;</span><br><span class="line">import org.springframework.validation.Errors;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import tacos.Order;</span><br><span class="line">​</span><br><span class="line">@Slf4j</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/orders&quot;)</span><br><span class="line">public class OrderController &#123;</span><br><span class="line">    @GetMapping(&quot;/current&quot;)</span><br><span class="line">    public String orderForm(Model model) &#123;</span><br><span class="line">        model.addAttribute(&quot;order&quot;, new Order());</span><br><span class="line">        return &quot;orderForm&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">    @PostMapping</span><br><span class="line">    public String processOrder(Order order) &#123;</span><br><span class="line">        log.info(&quot;Order submitted: &quot; + order);</span><br><span class="line">        return &quot;redirect:/&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>添加orderForm.html 到 resources&#x2F;templates 下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</span><br><span class="line">      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br><span class="line">    &lt;head&gt;</span><br><span class="line">        &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">        &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@&#123;/styles.css&#125;&quot; /&gt;</span><br><span class="line">    &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">    &lt;body&gt;</span><br><span class="line">        &lt;form method=&quot;POST&quot; th:action=&quot;@&#123;/orders&#125;&quot; th:object=&quot;$&#123;order&#125;&quot;&gt;</span><br><span class="line">            &lt;h1&gt;Order your taco creations!&lt;/h1&gt;</span><br><span class="line">            &lt;img th:src=&quot;@&#123;/images/TacoCloud.png&#125;&quot;/&gt;</span><br><span class="line">            &lt;a th:href=&quot;@&#123;/design&#125;&quot; id=&quot;another&quot;&gt;Design another taco&lt;/a&gt;&lt;br/&gt;</span><br><span class="line">            &lt;div th:if=&quot;$&#123;#fields.hasErrors()&#125;&quot;&gt;</span><br><span class="line">                &lt;span class=&quot;validationError&quot;&gt;</span><br><span class="line">                    Please correct the problems below and resubmit.</span><br><span class="line">                &lt;/span&gt;</span><br><span class="line">            &lt;/div&gt;</span><br><span class="line">            &lt;h3&gt;Deliver my taco masterpieces to...&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;name&quot;&gt;Name: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;name&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;street&quot;&gt;Street address: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;street&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;city&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;state&quot;&gt;State: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;state&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;zip&quot;&gt;Zip code: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;zip&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;h3&gt;Here&#x27;s how I&#x27;ll pay...&lt;/h3&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;ccNumber&quot;&gt;Credit Card #: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccNumber&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;ccExpiration&quot;&gt;Expiration: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccExpiration&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;label for=&quot;ccCVV&quot;&gt;CVV: &lt;/label&gt;</span><br><span class="line">            &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccCVV&#125;&quot;/&gt;</span><br><span class="line">            &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">            &lt;input type=&quot;submit&quot; value=&quot;Submit order&quot;/&gt;</span><br><span class="line">        &lt;/form&gt;</span><br><span class="line">    &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>启动tacos项目，浏览器中打开网址<a target="_blank" rel="noopener" href="http://localhost:8080/design">http://localhost:8080/design</a>。点击<code>Submit Your Taco</code>。</p>
<h4 id="处理验证表单输入"><a href="#处理验证表单输入" class="headerlink" title="处理验证表单输入"></a>处理验证表单输入</h4><h5 id="修改Taco-java"><a href="#修改Taco-java" class="headerlink" title="修改Taco.java"></a>修改Taco.java</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">import javax.validation.constraints.NotNull;</span><br><span class="line">import javax.validation.constraints.Size;</span><br><span class="line">import java.util.List;</span><br><span class="line">@Data</span><br><span class="line">public class Taco &#123;</span><br><span class="line">    @NotNull</span><br><span class="line">    @Size(min = 5,message=&quot;Name must be at least 5 characters long&quot;)</span><br><span class="line">    private String name;</span><br><span class="line">    @NotNull</span><br><span class="line">    @Size(min=1, message=&quot;You must choose at least 1 ingredient&quot;)</span><br><span class="line">    private List&lt;String&gt; ingredients;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="修改Order-java"><a href="#修改Order-java" class="headerlink" title="修改Order.java"></a>修改Order.java</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line">import javax.validation.constraints.Digits;</span><br><span class="line">import javax.validation.constraints.Pattern;</span><br><span class="line">import org.hibernate.validator.constraints.CreditCardNumber;</span><br><span class="line">import javax.validation.constraints.NotBlank;</span><br><span class="line">import lombok.Data;</span><br><span class="line"></span><br><span class="line">@Data</span><br><span class="line">public class Order &#123;</span><br><span class="line"></span><br><span class="line">    @NotBlank(message=&quot;Name is required&quot;)</span><br><span class="line">    private String name;</span><br><span class="line"></span><br><span class="line">    @NotBlank(message=&quot;Street is required&quot;)</span><br><span class="line">    private String street;</span><br><span class="line"></span><br><span class="line">    @NotBlank(message=&quot;City is required&quot;)</span><br><span class="line">    private String city;</span><br><span class="line"></span><br><span class="line">    @NotBlank(message=&quot;State is required&quot;)</span><br><span class="line">    private String state;</span><br><span class="line"></span><br><span class="line">    @NotBlank(message=&quot;Zip code is required&quot;)</span><br><span class="line">    private String zip;</span><br><span class="line"></span><br><span class="line">    @CreditCardNumber(message=&quot;Not a valid credit card number&quot;)</span><br><span class="line">    private String ccNumber;</span><br><span class="line"></span><br><span class="line">    @Pattern(regexp=&quot;^(0[1-9]|1[0-2])([\\/])([1-9][0-9])$&quot;,</span><br><span class="line">            message=&quot;Must be formatted MM/YY&quot;)</span><br><span class="line">    private String ccExpiration;</span><br><span class="line"></span><br><span class="line">    @Digits(integer=3, fraction=0, message=&quot;Invalid CVV&quot;)</span><br><span class="line">    private String ccCVV;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="修改DesignTacoController-java"><a href="#修改DesignTacoController-java" class="headerlink" title="修改DesignTacoController.java"></a>修改DesignTacoController.java</h5><p>@ModelAttribute 在处理GET&#x2F;POST请求之前，添加Model<br>@ModelAttribute(“design”)  Taco design，指定  Taco design 为Model中的<code>design</code></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">package tacos.web;</span><br><span class="line"></span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.ui.Model;</span><br><span class="line">import org.springframework.validation.Errors;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.ModelAttribute;</span><br><span class="line">import org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import tacos.Ingredient;</span><br><span class="line">import tacos.Ingredient.Type;</span><br><span class="line">import tacos.Taco;</span><br><span class="line"></span><br><span class="line">import javax.validation.Valid;</span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Slf4j</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/design&quot;)</span><br><span class="line">public class DesignTacoController &#123;</span><br><span class="line">    @ModelAttribute</span><br><span class="line">    public void addIngredients(Model model)&#123;</span><br><span class="line">        List&lt;Ingredient&gt; ingredients = Arrays.asList(</span><br><span class="line">                new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),</span><br><span class="line">                new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),</span><br><span class="line">                new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),</span><br><span class="line">                new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),</span><br><span class="line">                new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),</span><br><span class="line">                new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),</span><br><span class="line">                new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),</span><br><span class="line">                new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),</span><br><span class="line">                new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),</span><br><span class="line">                new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)</span><br><span class="line">        );</span><br><span class="line">        Type[] types = Ingredient.Type.values();</span><br><span class="line">        for(Type type: types)&#123;</span><br><span class="line">            model.addAttribute(type.toString().toLowerCase(), filterByType(ingredients, type));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    @GetMapping</span><br><span class="line">    private String getDesignForm(Model model)&#123;</span><br><span class="line">        model.addAttribute(&quot;design&quot;,new Taco());</span><br><span class="line">        return &quot;design&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private List&lt;Ingredient&gt; filterByType(List&lt;Ingredient&gt; ingredients, Type type) &#123;</span><br><span class="line">        return ingredients.stream().filter(x-&gt;x.getType().equals(type)).collect(Collectors.toList());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @PostMapping</span><br><span class="line">    public String processDesign(@Valid @ModelAttribute(&quot;design&quot;) Taco design, Errors errors,Model model) &#123;</span><br><span class="line">        if (errors.hasErrors()) &#123;</span><br><span class="line">            return &quot;design&quot;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        // Save the taco design...</span><br><span class="line">        // We&#x27;ll do this in chapter 3</span><br><span class="line">        log.info(&quot;Processing design: &quot; + design);</span><br><span class="line">        return &quot;redirect:/orders/current&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="修改OrderController-java"><a href="#修改OrderController-java" class="headerlink" title="修改OrderController.java"></a>修改OrderController.java</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package tacos.web;</span><br><span class="line"></span><br><span class="line">import org.springframework.stereotype.Controller;</span><br><span class="line">import org.springframework.ui.Model;</span><br><span class="line">import org.springframework.validation.Errors;</span><br><span class="line">import org.springframework.web.bind.annotation.GetMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.ModelAttribute;</span><br><span class="line">import org.springframework.web.bind.annotation.PostMapping;</span><br><span class="line">import org.springframework.web.bind.annotation.RequestMapping;</span><br><span class="line">import lombok.extern.slf4j.Slf4j;</span><br><span class="line">import tacos.Order;</span><br><span class="line"></span><br><span class="line">import javax.validation.Valid;</span><br><span class="line"></span><br><span class="line">@Slf4j</span><br><span class="line">@Controller</span><br><span class="line">@RequestMapping(&quot;/orders&quot;)</span><br><span class="line">public class OrderController &#123;</span><br><span class="line">    @GetMapping(&quot;/current&quot;)</span><br><span class="line">    public String orderForm(Model model) &#123;</span><br><span class="line">        model.addAttribute(&quot;order&quot;, new Order());</span><br><span class="line">        return &quot;orderForm&quot;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @PostMapping</span><br><span class="line">    public String processOrder(@Valid @ModelAttribute(&quot;order&quot;) Order order, Errors errors) &#123;</span><br><span class="line">        if(errors.hasErrors())&#123;</span><br><span class="line">            return &quot;orderForm&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(&quot;Order submitted: &quot; + order);</span><br><span class="line">        return &quot;redirect:/&quot;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>修改home.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot; </span><br><span class="line">      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line">  </span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Welcome to...&lt;/h1&gt;</span><br><span class="line">    &lt;img th:src=&quot;@&#123;/images/TacoCloud.png&#125;&quot;/&gt;</span><br><span class="line">    </span><br><span class="line">    &lt;a th:href=&quot;@&#123;/design&#125;&quot; id=&quot;design&quot;&gt;Design a taco&lt;/a&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<p>修改design.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- tag::all[] --&gt;</span><br><span class="line">&lt;!-- tag::head[] --&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</span><br><span class="line">      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@&#123;/styles.css&#125;&quot; /&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line">    &lt;h1&gt;Design your taco!&lt;/h1&gt;</span><br><span class="line">    &lt;img th:src=&quot;@&#123;/images/TacoCloud.png&#125;&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;!-- tag::formTag[] --&gt;</span><br><span class="line">    &lt;form method=&quot;POST&quot; th:object=&quot;$&#123;design&#125;&quot;&gt;</span><br><span class="line">    &lt;!-- end::all[] --&gt;</span><br><span class="line"></span><br><span class="line">    &lt;span class=&quot;validationError&quot;</span><br><span class="line">          th:if=&quot;$&#123;#fields.hasErrors(&#x27;ingredients&#x27;)&#125;&quot;</span><br><span class="line">          th:errors=&quot;*&#123;ingredients&#125;&quot;&gt;Ingredient Error&lt;/span&gt;</span><br><span class="line"></span><br><span class="line">    &lt;!-- tag::all[] --&gt;</span><br><span class="line">    &lt;div class=&quot;grid&quot;&gt;</span><br><span class="line">&lt;!-- end::formTag[] --&gt;</span><br><span class="line">&lt;!-- end::head[] --&gt;</span><br><span class="line">      &lt;div class=&quot;ingredient-group&quot; id=&quot;wraps&quot;&gt;</span><br><span class="line">&lt;!-- tag::designateWrap[] --&gt;</span><br><span class="line">      &lt;h3&gt;Designate your wrap:&lt;/h3&gt;</span><br><span class="line">      &lt;div th:each=&quot;ingredient : $&#123;wrap&#125;&quot;&gt;</span><br><span class="line">        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;!-- end::designateWrap[] --&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;div class=&quot;ingredient-group&quot; id=&quot;proteins&quot;&gt;</span><br><span class="line">      &lt;h3&gt;Pick your protein:&lt;/h3&gt;</span><br><span class="line">      &lt;div th:each=&quot;ingredient : $&#123;protein&#125;&quot;&gt;</span><br><span class="line">        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;div class=&quot;ingredient-group&quot; id=&quot;cheeses&quot;&gt;</span><br><span class="line">      &lt;h3&gt;Choose your cheese:&lt;/h3&gt;</span><br><span class="line">      &lt;div th:each=&quot;ingredient : $&#123;cheese&#125;&quot;&gt;</span><br><span class="line">        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;div class=&quot;ingredient-group&quot; id=&quot;veggies&quot;&gt;</span><br><span class="line">      &lt;h3&gt;Determine your veggies:&lt;/h3&gt;</span><br><span class="line">      &lt;div th:each=&quot;ingredient : $&#123;veggies&#125;&quot;&gt;</span><br><span class="line">        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">	  &lt;div class=&quot;ingredient-group&quot; id=&quot;sauces&quot;&gt;</span><br><span class="line">      &lt;h3&gt;Select your sauce:&lt;/h3&gt;</span><br><span class="line">      &lt;div th:each=&quot;ingredient : $&#123;sauce&#125;&quot;&gt;</span><br><span class="line">        &lt;input name=&quot;ingredients&quot; type=&quot;checkbox&quot; th:value=&quot;$&#123;ingredient.id&#125;&quot; /&gt;</span><br><span class="line">        &lt;span th:text=&quot;$&#123;ingredient.name&#125;&quot;&gt;INGREDIENT&lt;/span&gt;&lt;br/&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">      &lt;h3&gt;Name your taco creation:&lt;/h3&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;name&#125;&quot;/&gt;</span><br><span class="line">      &lt;!-- end::all[] --&gt;</span><br><span class="line">      &lt;span th:text=&quot;$&#123;#fields.hasErrors(&#x27;name&#x27;)&#125;&quot;&gt;XXX&lt;/span&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;name&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;name&#125;&quot;&gt;Name Error&lt;/span&gt;</span><br><span class="line">      &lt;!-- tag::all[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;button&gt;Submit your taco&lt;/button&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">&lt;!-- tag::closeFormTag[] --&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line">&lt;!-- end::closeFormTag[] --&gt;</span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;!-- end::all[] --&gt;</span><br></pre></td></tr></table></figure>
<p>修改orderForm.html</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html xmlns=&quot;http://www.w3.org/1999/xhtml&quot;</span><br><span class="line">      xmlns:th=&quot;http://www.thymeleaf.org&quot;&gt;</span><br><span class="line">  &lt;head&gt;</span><br><span class="line">    &lt;title&gt;Taco Cloud&lt;/title&gt;</span><br><span class="line">    &lt;link rel=&quot;stylesheet&quot; th:href=&quot;@&#123;/styles.css&#125;&quot; /&gt;</span><br><span class="line">  &lt;/head&gt;</span><br><span class="line"></span><br><span class="line">  &lt;body&gt;</span><br><span class="line"></span><br><span class="line">    &lt;form method=&quot;POST&quot; th:action=&quot;@&#123;/orders&#125;&quot; th:object=&quot;$&#123;order&#125;&quot;&gt;</span><br><span class="line">      &lt;h1&gt;Order your taco creations!&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">      &lt;img th:src=&quot;@&#123;/images/TacoCloud.png&#125;&quot;/&gt;</span><br><span class="line">      &lt;a th:href=&quot;@&#123;/design&#125;&quot; id=&quot;another&quot;&gt;Design another taco&lt;/a&gt;&lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;div th:if=&quot;$&#123;#fields.hasErrors()&#125;&quot;&gt;</span><br><span class="line">        &lt;span class=&quot;validationError&quot;&gt;</span><br><span class="line">        Please correct the problems below and resubmit.</span><br><span class="line">        &lt;/span&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h3&gt;Deliver my taco masterpieces to...&lt;/h3&gt;</span><br><span class="line">      &lt;label for=&quot;name&quot;&gt;Name: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;name&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;name&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;name&#125;&quot;&gt;Name Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;street&quot;&gt;Street address: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;street&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;street&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;street&#125;&quot;&gt;Street Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;city&quot;&gt;City: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;city&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;city&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;city&#125;&quot;&gt;City Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;state&quot;&gt;State: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;state&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;state&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;state&#125;&quot;&gt;State Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;zip&quot;&gt;Zip code: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;zip&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;zip&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;zip&#125;&quot;&gt;Zip Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;h3&gt;Here&#x27;s how I&#x27;ll pay...&lt;/h3&gt;</span><br><span class="line">&lt;!-- tag::validatedField[] --&gt;</span><br><span class="line">      &lt;label for=&quot;ccNumber&quot;&gt;Credit Card #: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccNumber&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;ccNumber&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;ccNumber&#125;&quot;&gt;CC Num Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">&lt;!-- end::validatedField[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;ccExpiration&quot;&gt;Expiration: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccExpiration&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;ccExpiration&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;ccExpiration&#125;&quot;&gt;CC Num Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;label for=&quot;ccCVV&quot;&gt;CVV: &lt;/label&gt;</span><br><span class="line">      &lt;input type=&quot;text&quot; th:field=&quot;*&#123;ccCVV&#125;&quot;/&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br><span class="line">      &lt;span class=&quot;validationError&quot;</span><br><span class="line">            th:if=&quot;$&#123;#fields.hasErrors(&#x27;ccCVV&#x27;)&#125;&quot;</span><br><span class="line">            th:errors=&quot;*&#123;ccCVV&#125;&quot;&gt;CC Num Error&lt;/span&gt;</span><br><span class="line">&lt;!-- tag::allButValidation[] --&gt;</span><br><span class="line">      &lt;br/&gt;</span><br><span class="line"></span><br><span class="line">      &lt;input type=&quot;submit&quot; value=&quot;Submit order&quot;/&gt;</span><br><span class="line">    &lt;/form&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line">&lt;!-- end::allButValidation[] --&gt;</span><br></pre></td></tr></table></figure>
<p>添加styles.css到resources&#x2F;static下</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">div.ingredient-group:nth-child(odd) &#123;</span><br><span class="line">	float: left;</span><br><span class="line">	padding-right: 20px;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.ingredient-group:nth-child(even) &#123;</span><br><span class="line">    float: left;</span><br><span class="line">	padding-right: 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">div.ingredient-group &#123;</span><br><span class="line">	width: 50%;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">.grid:after &#123;</span><br><span class="line">  content: &quot;&quot;;</span><br><span class="line">  display: table;</span><br><span class="line">  clear: both;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">*, *:after, *:before &#123;</span><br><span class="line">  -webkit-box-sizing: border-box;</span><br><span class="line">  -moz-box-sizing: border-box;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">span.validationError &#123;</span><br><span class="line">	color: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="重新启动项目"><a href="#重新启动项目" class="headerlink" title="重新启动项目"></a>重新启动项目</h4><p>浏览器中打开网址<a target="_blank" rel="noopener" href="http://localhost:8080/">http://localhost:8080</a></p>
<h4 id="添加测试类"><a href="#添加测试类" class="headerlink" title="添加测试类"></a>添加测试类</h4><p>添加测试类src&#x2F;test&#x2F;java&#x2F;tacos&#x2F;DesignTacoControllerTest.java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line">import org.junit.Before;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.boot.test.autoconfigure.web.servlet.WebMvcTest;</span><br><span class="line">import org.springframework.http.MediaType;</span><br><span class="line">import org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line">import org.springframework.test.web.servlet.MockMvc;</span><br><span class="line">import tacos.Ingredient.Type;</span><br><span class="line">import tacos.web.DesignTacoController;</span><br><span class="line"></span><br><span class="line">import java.util.Arrays;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.get;</span><br><span class="line">import static org.springframework.test.web.servlet.request.MockMvcRequestBuilders.post;</span><br><span class="line">import static org.springframework.test.web.servlet.result.MockMvcResultMatchers.*;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@WebMvcTest(DesignTacoController.class)</span><br><span class="line">public class DesignTacoControllerTest &#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  @Autowired</span><br><span class="line">  private MockMvc mockMvc;</span><br><span class="line">  </span><br><span class="line">  private List&lt;Ingredient&gt; ingredients;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  private Taco design;</span><br><span class="line"></span><br><span class="line">  @Before</span><br><span class="line">  public void setup() &#123;</span><br><span class="line">    ingredients = Arrays.asList(</span><br><span class="line">      new Ingredient(&quot;FLTO&quot;, &quot;Flour Tortilla&quot;, Type.WRAP),</span><br><span class="line">      new Ingredient(&quot;COTO&quot;, &quot;Corn Tortilla&quot;, Type.WRAP),</span><br><span class="line">      new Ingredient(&quot;GRBF&quot;, &quot;Ground Beef&quot;, Type.PROTEIN),</span><br><span class="line">      new Ingredient(&quot;CARN&quot;, &quot;Carnitas&quot;, Type.PROTEIN),</span><br><span class="line">      new Ingredient(&quot;TMTO&quot;, &quot;Diced Tomatoes&quot;, Type.VEGGIES),</span><br><span class="line">      new Ingredient(&quot;LETC&quot;, &quot;Lettuce&quot;, Type.VEGGIES),</span><br><span class="line">      new Ingredient(&quot;CHED&quot;, &quot;Cheddar&quot;, Type.CHEESE),</span><br><span class="line">      new Ingredient(&quot;JACK&quot;, &quot;Monterrey Jack&quot;, Type.CHEESE),</span><br><span class="line">      new Ingredient(&quot;SLSA&quot;, &quot;Salsa&quot;, Type.SAUCE),</span><br><span class="line">      new Ingredient(&quot;SRCR&quot;, &quot;Sour Cream&quot;, Type.SAUCE)</span><br><span class="line">    );</span><br><span class="line"></span><br><span class="line">    </span><br><span class="line">    design = new Taco();</span><br><span class="line">    design.setName(&quot;Test Taco&quot;);</span><br><span class="line">    design.setIngredients(Arrays.asList(&quot;FLTO&quot;, &quot;GRBF&quot;, &quot;CHED&quot;));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Test</span><br><span class="line">  public void testShowDesignForm() throws Exception &#123;</span><br><span class="line">    mockMvc.perform(get(&quot;/design&quot;))</span><br><span class="line">        .andExpect(status().isOk())</span><br><span class="line">        .andExpect(view().name(&quot;design&quot;))</span><br><span class="line">        .andExpect(model().attribute(&quot;wrap&quot;, ingredients.subList(0, 2)))</span><br><span class="line">        .andExpect(model().attribute(&quot;protein&quot;, ingredients.subList(2, 4)))</span><br><span class="line">        .andExpect(model().attribute(&quot;veggies&quot;, ingredients.subList(4, 6)))</span><br><span class="line">        .andExpect(model().attribute(&quot;cheese&quot;, ingredients.subList(6, 8)))</span><br><span class="line">        .andExpect(model().attribute(&quot;sauce&quot;, ingredients.subList(8, 10)));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Test</span><br><span class="line">  public void processDesign() throws Exception &#123;</span><br><span class="line">    mockMvc.perform(post(&quot;/design&quot;)</span><br><span class="line">        .content(&quot;name=Test+Taco&amp;ingredients=FLTO,GRBF,CHED&quot;)</span><br><span class="line">        .contentType(MediaType.APPLICATION_FORM_URLENCODED))</span><br><span class="line">        .andExpect(status().is3xxRedirection())</span><br><span class="line">        .andExpect(header().stringValues(&quot;Location&quot;, &quot;/orders/current&quot;));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>添加测试类src&#x2F;test&#x2F;java&#x2F;tacos&#x2F;DesignAndOrderTacosBrowserTest.java</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br></pre></td><td class="code"><pre><span class="line">package tacos;</span><br><span class="line"></span><br><span class="line">import org.junit.AfterClass;</span><br><span class="line">import org.junit.BeforeClass;</span><br><span class="line">import org.junit.Test;</span><br><span class="line">import org.junit.runner.RunWith;</span><br><span class="line">import org.openqa.selenium.By;</span><br><span class="line">import org.openqa.selenium.WebElement;</span><br><span class="line">import org.openqa.selenium.htmlunit.HtmlUnitDriver;</span><br><span class="line">import org.springframework.beans.factory.annotation.Autowired;</span><br><span class="line">import org.springframework.boot.test.context.SpringBootTest;</span><br><span class="line">import org.springframework.boot.test.context.SpringBootTest.WebEnvironment;</span><br><span class="line">import org.springframework.boot.test.web.client.TestRestTemplate;</span><br><span class="line">import org.springframework.boot.web.server.LocalServerPort;</span><br><span class="line">import org.springframework.test.context.junit4.SpringRunner;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.concurrent.TimeUnit;</span><br><span class="line">import java.util.stream.Collectors;</span><br><span class="line"></span><br><span class="line">import static org.junit.Assert.assertEquals;</span><br><span class="line">import static org.junit.Assert.assertTrue;</span><br><span class="line"></span><br><span class="line">@RunWith(SpringRunner.class)</span><br><span class="line">@SpringBootTest(webEnvironment = WebEnvironment.RANDOM_PORT)</span><br><span class="line">public class DesignAndOrderTacosBrowserTest &#123;</span><br><span class="line">  </span><br><span class="line">  private static HtmlUnitDriver browser;</span><br><span class="line">  </span><br><span class="line">  @LocalServerPort</span><br><span class="line">  private int port;</span><br><span class="line">  </span><br><span class="line">  @Autowired</span><br><span class="line">  TestRestTemplate rest;</span><br><span class="line">  </span><br><span class="line">  @BeforeClass</span><br><span class="line">  public static void setup() &#123;</span><br><span class="line">    browser = new HtmlUnitDriver();</span><br><span class="line">    browser.manage().timeouts()</span><br><span class="line">        .implicitlyWait(10, TimeUnit.SECONDS);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @AfterClass</span><br><span class="line">  public static void closeBrowser() &#123;</span><br><span class="line">    browser.quit();</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @Test</span><br><span class="line">  public void testDesignATacoPage_HappyPath() throws Exception &#123;</span><br><span class="line">    browser.get(homePageUrl());</span><br><span class="line">    clickDesignATaco();</span><br><span class="line">    assertDesignPageElements();</span><br><span class="line">    buildAndSubmitATaco(&quot;Basic Taco&quot;, &quot;FLTO&quot;, &quot;GRBF&quot;, &quot;CHED&quot;, &quot;TMTO&quot;, &quot;SLSA&quot;);</span><br><span class="line">    clickBuildAnotherTaco();</span><br><span class="line">    buildAndSubmitATaco(&quot;Another Taco&quot;, &quot;COTO&quot;, &quot;CARN&quot;, &quot;JACK&quot;, &quot;LETC&quot;, &quot;SRCR&quot;);</span><br><span class="line">    fillInAndSubmitOrderForm();</span><br><span class="line">    assertEquals(homePageUrl(), browser.getCurrentUrl());</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  @Test</span><br><span class="line">  public void testDesignATacoPage_EmptyOrderInfo() throws Exception &#123;</span><br><span class="line">    browser.get(homePageUrl());</span><br><span class="line">    clickDesignATaco();</span><br><span class="line">    assertDesignPageElements();</span><br><span class="line">    buildAndSubmitATaco(&quot;Basic Taco&quot;, &quot;FLTO&quot;, &quot;GRBF&quot;, &quot;CHED&quot;, &quot;TMTO&quot;, &quot;SLSA&quot;);</span><br><span class="line">    submitEmptyOrderForm();</span><br><span class="line">    fillInAndSubmitOrderForm();</span><br><span class="line">    assertEquals(homePageUrl(), browser.getCurrentUrl());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  @Test</span><br><span class="line">  public void testDesignATacoPage_InvalidOrderInfo() throws Exception &#123;</span><br><span class="line">    browser.get(homePageUrl());</span><br><span class="line">    clickDesignATaco();</span><br><span class="line">    assertDesignPageElements();</span><br><span class="line">    buildAndSubmitATaco(&quot;Basic Taco&quot;, &quot;FLTO&quot;, &quot;GRBF&quot;, &quot;CHED&quot;, &quot;TMTO&quot;, &quot;SLSA&quot;);</span><br><span class="line">    submitInvalidOrderForm();</span><br><span class="line">    fillInAndSubmitOrderForm();</span><br><span class="line">    assertEquals(homePageUrl(), browser.getCurrentUrl());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  //</span><br><span class="line">  // Browser test action methods</span><br><span class="line">  //</span><br><span class="line">  private void buildAndSubmitATaco(String name, String... ingredients) &#123;</span><br><span class="line">    assertDesignPageElements();</span><br><span class="line"></span><br><span class="line">    for (String ingredient : ingredients) &#123;</span><br><span class="line">      browser.findElementByCssSelector(&quot;input[value=&#x27;&quot; + ingredient + &quot;&#x27;]&quot;).click();      </span><br><span class="line">    &#125;</span><br><span class="line">    browser.findElementByCssSelector(&quot;input#name&quot;).sendKeys(name);</span><br><span class="line">    browser.findElementByCssSelector(&quot;form&quot;).submit();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void assertDesignPageElements() &#123;</span><br><span class="line">    assertEquals(designPageUrl(), browser.getCurrentUrl());</span><br><span class="line">    List&lt;WebElement&gt; ingredientGroups = browser.findElementsByClassName(&quot;ingredient-group&quot;);</span><br><span class="line">    assertEquals(5, ingredientGroups.size());</span><br><span class="line">    </span><br><span class="line">    WebElement wrapGroup = browser.findElementByCssSelector(&quot;div.ingredient-group#wraps&quot;);</span><br><span class="line">    List&lt;WebElement&gt; wraps = wrapGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    assertEquals(2, wraps.size());</span><br><span class="line">    assertIngredient(wrapGroup, 0, &quot;FLTO&quot;, &quot;Flour Tortilla&quot;);</span><br><span class="line">    assertIngredient(wrapGroup, 1, &quot;COTO&quot;, &quot;Corn Tortilla&quot;);</span><br><span class="line">    </span><br><span class="line">    WebElement proteinGroup = browser.findElementByCssSelector(&quot;div.ingredient-group#proteins&quot;);</span><br><span class="line">    List&lt;WebElement&gt; proteins = proteinGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    assertEquals(2, proteins.size());</span><br><span class="line">    assertIngredient(proteinGroup, 0, &quot;GRBF&quot;, &quot;Ground Beef&quot;);</span><br><span class="line">    assertIngredient(proteinGroup, 1, &quot;CARN&quot;, &quot;Carnitas&quot;);</span><br><span class="line"></span><br><span class="line">    WebElement cheeseGroup = browser.findElementByCssSelector(&quot;div.ingredient-group#cheeses&quot;);</span><br><span class="line">    List&lt;WebElement&gt; cheeses = proteinGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    assertEquals(2, cheeses.size());</span><br><span class="line">    assertIngredient(cheeseGroup, 0, &quot;CHED&quot;, &quot;Cheddar&quot;);</span><br><span class="line">    assertIngredient(cheeseGroup, 1, &quot;JACK&quot;, &quot;Monterrey Jack&quot;);</span><br><span class="line"></span><br><span class="line">    WebElement veggieGroup = browser.findElementByCssSelector(&quot;div.ingredient-group#veggies&quot;);</span><br><span class="line">    List&lt;WebElement&gt; veggies = proteinGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    assertEquals(2, veggies.size());</span><br><span class="line">    assertIngredient(veggieGroup, 0, &quot;TMTO&quot;, &quot;Diced Tomatoes&quot;);</span><br><span class="line">    assertIngredient(veggieGroup, 1, &quot;LETC&quot;, &quot;Lettuce&quot;);</span><br><span class="line"></span><br><span class="line">    WebElement sauceGroup = browser.findElementByCssSelector(&quot;div.ingredient-group#sauces&quot;);</span><br><span class="line">    List&lt;WebElement&gt; sauces = proteinGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    assertEquals(2, sauces.size());</span><br><span class="line">    assertIngredient(sauceGroup, 0, &quot;SLSA&quot;, &quot;Salsa&quot;);</span><br><span class="line">    assertIngredient(sauceGroup, 1, &quot;SRCR&quot;, &quot;Sour Cream&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">  private void fillInAndSubmitOrderForm() &#123;</span><br><span class="line">    assertTrue(browser.getCurrentUrl().startsWith(orderDetailsPageUrl()));</span><br><span class="line">    fillField(&quot;input#name&quot;, &quot;Ima Hungry&quot;);</span><br><span class="line">    fillField(&quot;input#street&quot;, &quot;1234 Culinary Blvd.&quot;);</span><br><span class="line">    fillField(&quot;input#city&quot;, &quot;Foodsville&quot;);</span><br><span class="line">    fillField(&quot;input#state&quot;, &quot;CO&quot;);</span><br><span class="line">    fillField(&quot;input#zip&quot;, &quot;81019&quot;);</span><br><span class="line">    fillField(&quot;input#ccNumber&quot;, &quot;4111111111111111&quot;);</span><br><span class="line">    fillField(&quot;input#ccExpiration&quot;, &quot;10/19&quot;);</span><br><span class="line">    fillField(&quot;input#ccCVV&quot;, &quot;123&quot;);</span><br><span class="line">    browser.findElementByCssSelector(&quot;form&quot;).submit();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void submitEmptyOrderForm() &#123;</span><br><span class="line">    assertEquals(currentOrderDetailsPageUrl(), browser.getCurrentUrl());</span><br><span class="line">    browser.findElementByCssSelector(&quot;form&quot;).submit();</span><br><span class="line">    </span><br><span class="line">    assertEquals(orderDetailsPageUrl(), browser.getCurrentUrl());</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; validationErrors = getValidationErrorTexts();</span><br><span class="line">    assertEquals(9, validationErrors.size());</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Please correct the problems below and resubmit.&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Name is required&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Street is required&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;City is required&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;State is required&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Zip code is required&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Not a valid credit card number&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Must be formatted MM/YY&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Invalid CVV&quot;));    </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private List&lt;String&gt; getValidationErrorTexts() &#123;</span><br><span class="line">    List&lt;WebElement&gt; validationErrorElements = browser.findElementsByClassName(&quot;validationError&quot;);</span><br><span class="line">    List&lt;String&gt; validationErrors = validationErrorElements.stream()</span><br><span class="line">        .map(el -&gt; el.getText())</span><br><span class="line">        .collect(Collectors.toList());</span><br><span class="line">    return validationErrors;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void submitInvalidOrderForm() &#123;</span><br><span class="line">    assertTrue(browser.getCurrentUrl().startsWith(orderDetailsPageUrl()));</span><br><span class="line">    fillField(&quot;input#name&quot;, &quot;I&quot;);</span><br><span class="line">    fillField(&quot;input#street&quot;, &quot;1&quot;);</span><br><span class="line">    fillField(&quot;input#city&quot;, &quot;F&quot;);</span><br><span class="line">    fillField(&quot;input#state&quot;, &quot;C&quot;);</span><br><span class="line">    fillField(&quot;input#zip&quot;, &quot;8&quot;);</span><br><span class="line">    fillField(&quot;input#ccNumber&quot;, &quot;1234432112344322&quot;);</span><br><span class="line">    fillField(&quot;input#ccExpiration&quot;, &quot;14/91&quot;);</span><br><span class="line">    fillField(&quot;input#ccCVV&quot;, &quot;1234&quot;);</span><br><span class="line">    browser.findElementByCssSelector(&quot;form&quot;).submit();</span><br><span class="line">    </span><br><span class="line">    assertEquals(orderDetailsPageUrl(), browser.getCurrentUrl());</span><br><span class="line"></span><br><span class="line">    List&lt;String&gt; validationErrors = getValidationErrorTexts();</span><br><span class="line">    assertEquals(4, validationErrors.size());</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Please correct the problems below and resubmit.&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Not a valid credit card number&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Must be formatted MM/YY&quot;));</span><br><span class="line">    assertTrue(validationErrors.contains(&quot;Invalid CVV&quot;));    </span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void fillField(String fieldName, String value) &#123;</span><br><span class="line">    WebElement field = browser.findElementByCssSelector(fieldName);</span><br><span class="line">    field.clear();</span><br><span class="line">    field.sendKeys(value);</span><br><span class="line">  &#125;</span><br><span class="line">  </span><br><span class="line">  private void assertIngredient(WebElement ingredientGroup, </span><br><span class="line">                                int ingredientIdx, String id, String name) &#123;</span><br><span class="line">    List&lt;WebElement&gt; proteins = ingredientGroup.findElements(By.tagName(&quot;div&quot;));</span><br><span class="line">    WebElement ingredient = proteins.get(ingredientIdx);</span><br><span class="line">    assertEquals(id, </span><br><span class="line">        ingredient.findElement(By.tagName(&quot;input&quot;)).getAttribute(&quot;value&quot;));</span><br><span class="line">    assertEquals(name, </span><br><span class="line">        ingredient.findElement(By.tagName(&quot;span&quot;)).getText());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void clickDesignATaco() &#123;</span><br><span class="line">    assertEquals(homePageUrl(), browser.getCurrentUrl());</span><br><span class="line">    browser.findElementByCssSelector(&quot;a[id=&#x27;design&#x27;]&quot;).click();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private void clickBuildAnotherTaco() &#123;</span><br><span class="line">    assertTrue(browser.getCurrentUrl().startsWith(orderDetailsPageUrl()));</span><br><span class="line">    browser.findElementByCssSelector(&quot;a[id=&#x27;another&#x27;]&quot;).click();</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">  //</span><br><span class="line">  // URL helper methods</span><br><span class="line">  //</span><br><span class="line">  private String designPageUrl() &#123;</span><br><span class="line">    return homePageUrl() + &quot;design&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private String homePageUrl() &#123;</span><br><span class="line">    return &quot;http://localhost:&quot; + port + &quot;/&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private String orderDetailsPageUrl() &#123;</span><br><span class="line">    return homePageUrl() + &quot;orders&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  private String currentOrderDetailsPageUrl() &#123;</span><br><span class="line">    return homePageUrl() + &quot;orders/current&quot;;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://110.41.172.90/2023/05/10/%E5%BC%80%E5%8F%91-Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/" data-id="clhixaaf5000ezgul02fdazka" data-title="开发 Web 应用程序" class="article-share-link">Share</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spring-in-Action/" rel="tag">Spring in Action</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2023/05/11/spring-data-jpa-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          spring data jpa 数据处理
        
      </div>
    </a>
  
  
    <a href="/2023/05/09/Spring-%E5%85%A5%E9%97%A8%EF%BC%88%E4%BA%8C%EF%BC%89/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">Spring 入门（二）</div>
    </a>
  
</nav>

  
</article>


</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spring-in-Action/" rel="tag">Spring in Action</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/spring-boot/" rel="tag">spring boot</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/Spring-in-Action/" style="font-size: 20px;">Spring in Action</a> <a href="/tags/spring-boot/" style="font-size: 10px;">spring boot</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/05/11/spring-security-%E5%A2%9E%E5%8A%A0%E7%99%BB%E5%BD%95%E5%92%8C%E5%AE%89%E5%85%A8%E4%BF%9D%E6%8A%A4/">spring security 增加登录和安全保护</a>
          </li>
        
          <li>
            <a href="/2023/05/11/spring-data-jpa-%E6%95%B0%E6%8D%AE%E5%A4%84%E7%90%86/">spring data jpa 数据处理</a>
          </li>
        
          <li>
            <a href="/2023/05/10/%E5%BC%80%E5%8F%91-Web-%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F/">开发 Web 应用程序</a>
          </li>
        
          <li>
            <a href="/2023/05/09/Spring-%E5%85%A5%E9%97%A8%EF%BC%88%E4%BA%8C%EF%BC%89/">Spring 入门（二）</a>
          </li>
        
          <li>
            <a href="/2023/05/09/Spring-%E5%85%A5%E9%97%A8/">Spring 入门</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2023 John Doe<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>